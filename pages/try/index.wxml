<view class="warp">
  <view class="content">
    <view class="main-wrap">
      <image class="main-socks-img"
              mode="aspectFit"
              src="cloud://yunazure-sygca.7975-yunazure-sygca-1302289079/goods/woolblendcap/caramel.jpg" hidden="{{complete}}">
      </image>
      <view class="canvas-wrap">
        <canvas canvas-id="mainCanvas"
                disable-scroll="true"
                bindtouchstart="onStart"
                bindtouchmove="onMove"
                bindtouchend="onEnd"
                class="mainCanvas" hidden="{{complete}}" style="border: 1px dashed #19a9b5;"></canvas>
        <canvas canvas-id="completeCanvas" class="mainCanvas" hidden="{{!complete}}"></canvas>
      </view>
    </view>
    <button  class="commit"  hover-class="button-hover" bindtap="complete" hidden="{{complete}}">完成</button>
    <button class="commit" style="top:600rpx" hover-class="button-hover" bindtap="backDesign" hidden="{{!complete}}" >继续设计</button>
    <button class="commit"  hover-class="button-hover" bindtap="finalComplete" hidden="{{!complete}}" style="top:720rpx">完成设计</button>

  <view class="footer">
    <view class="colorAndOperate">
        <view class="operation-item" bindtap="drawToTemp">
        <!-- <view class="operation-item" bindtap="saveConfig"> -->
          <image mode="aspectFit" src="/images/share/share1.png" class="operation-img"></image>
          保存
        </view>
    </view>
  </view>
  <button class="{{picIsChosed?'picBlack':'pic-box'}}" hover-class="none" bindtap="choseMode" >
    <image  class="pic" src="{{picIsChosed?'/images/img/picYes.png':'/images/img/picNo.png'}}" ></image>
    <text class="picText" >图片</text>
  </button>
  <button class="{{picIsChosed?'text-box':'textBlack'}}" hover-class="none" bindtap="choseMode" >
    <image  class="pic" src="{{picIsChosed?'/images/img/textNo.png':'/images/img/textYes.png'}}" ></image>
    <text class="picText">文字</text>
  </button>
    
    <view class="custom-title" hidden="{{textIsChosed}}">
      <scroll-view class="category-list" style="white-space: nowrap;" scroll-x="true">
        <view class="category" bindtap="setMaterialCategory" data-id="0">图形</view>
        <view class="category" bindtap="setMaterialCategory" data-id="1">星座</view>
        <view class="category" bindtap="setMaterialCategory" data-id="2">水果</view>
        <view class="category" bindtap="setMaterialCategory" data-id="3">动物</view>
        <view class="category" bindtap="setMaterialCategory" data-id="4">生肖</view>
        <view class="category" bindtap="setMaterialCategory" data-id="5">城市</view>
        <view class="category" bindtap="setMaterialCategory" data-id="6">标志性建筑</view>
      </scroll-view>
    </view>
    <view class="custom-title" hidden="{{picIsChosed}}">
      <scroll-view class="category-list" style="white-space: nowrap;" scroll-x="true">
        <view class="category" bindtap="setMaterialCategory" data-id="0">文本</view>
        <view class="category" bindtap="setMaterialCategory" data-id="1">字体</view>
        <view class="category" bindtap="setMaterialCategory" data-id="2">大小</view>
        <view class="category" bindtap="setMaterialCategory" data-id="3">颜色</view>
      </scroll-view>
    </view>
    <view class="material-wrap" hidden="{{textIsChosed}}">
      <scroll-view class="material-items" style="white-space: nowrap;" scroll-x="true">
        <image class="material-item" wx:for="{{icons[materialCategory]}}" wx:key="id" lazy-load="true" mode="aspectFill" bindtap="selectMateria" src='{{item}}' data-src="{{item}}" ></image>
      </scroll-view>
    </view>
    <view class="material-wrap" hidden="{{picIsChosed}}">
      <textarea class="material-text" focus="true" maxlength="10" > 
      </textarea>
      <button>确定</button>
    </view>
  </view>
</view>